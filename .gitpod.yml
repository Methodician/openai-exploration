# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

tasks:
  - init: |
      npm install
      tsc file-watcher.ts
      npm run build
      npm run copy-models
      npm install --prefix functions
      npm run build --prefix functions
  - name: File Watcher
    command: npm run watch-files
  - name: Functions Watcher
    command: npm run build:watch --prefix functions
    # openMode: split-right
  # - name: Emulators
  #   command: npm run emulate
  #   openMode: tab-after
  - name: Angular Dev
    command: npm run start
    openMode: split-right
ports:
  # - name: Firebase Emulator Suite
  #   description: A web UI to view and interact with emulated Firebase tools
  #   port: 4000
  #   onOpen: open-browser
  - name: Angular Preview
    description: A hot-reloading preview of your angular app based on the code in your editor
    port: 4200
    onOpen: open-browser
  # - name: Realtime Database Emulator
  #   port: 9000
  #   visibility: public
  # - port: 4390-8900
  #   onOpen: ignore
