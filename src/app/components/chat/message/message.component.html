<mat-card class="wrapper">
  <mat-card-header>
    <mat-card-title>
      {{ message?.role }}
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <ng-container *ngFor="let segment of message?.segments">
      <ng-container [ngSwitch]="segment.type">
        <span *ngSwitchCase="'text'" [innerHtml]="segment.content"></span>
        <pre *ngSwitchCase="'code'">
            <code  [highlight]="segment.content"></code>
        </pre>
      </ng-container>
    </ng-container>
  </mat-card-content>
</mat-card>
