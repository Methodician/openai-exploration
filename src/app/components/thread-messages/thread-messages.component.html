<div class="message-history">
  <ng-container
    *ngFor="let message of messages; index as i; trackMessagesByContent"
  >
    <app-message
      [rawMessage]="message"
      (onMessageUpdate)="updateMessage($event)"
      (onMessageDelete)="deleteMessage($event)"
    ></app-message>
  </ng-container>
  <app-loading-message *ngIf="metadata?.isAiGenerating"></app-loading-message>
  <app-error-message *ngIf="metadata?.wasLastResponseError"></app-error-message>
</div>
